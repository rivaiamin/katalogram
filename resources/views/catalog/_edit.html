<!-- TODO: berikan label atau penjelasan untuk tiap input -->
<!--<div id="cropmeModal" class="uk-modal">
    <div class="uk-modal-dialog uk-modal-dialog-lightbox">
        <a class="uk-modal-close uk-close uk-close-alt"></a>
	    <cropme
		    width="600"
		    height="300"
		    ratio="1"
		    icon-class=""
		    type="jpeg"
		    destination-width="300"
		    id="cropme1"
		    ok-label="Save"
		    src=""
		    cancel-label="Cancel">
		</cropme>
    </div>
</div>

<div id="cropmeModal2" class="uk-modal">
    <div class="uk-modal-dialog uk-modal-dialog-lightbox">
        <a class="uk-modal-close uk-close uk-close-alt"></a>
	    <cropme
		    width="600"
		    height="500"
		    icon-class=""
		    type="jpeg"
		    destination-width="600"
		    ratio="0.8"
		    id="cropme2"
		    ok-label="Save"
		    src=""
		    cancel-label="Cancel">
		</cropme>
    </div>
</div>
-->

<div class="uk-container uk-container-center">
	<div class="ui segment">
		<a ng-click="removeProduct()" class="right floated ui secondary icon button"><i class="trash outline icon"></i></a>
		<h3 class="kg-heading"><i class="pencil secondary icon"></i> Edit Katalog</h3>
		<div class="ui styled fluid accordion">
		  <div class="ui title">
			<i class="dropdown icon"></i>
			Nama Produk dan Kategori
		  </div>
		  <div class="content">
			<div class="ui form uk-container">
			  <div class="field">
				<div class="label">Nama Produk</div>
				<input type="text" ng-model="product.name" placeholder="Nama Produk">
				<input class="uk-hidden" type="text" ng-model="product.category_id">
			  </div>
			  <div class="field">
				<div class="label">Kategori</div>
				<select name="category_id" ng-model="product.category_id" ng-options="cat.id as cat.name for cat in categories">
				  <option value="">--Kategori--</option>
				</select>
				<!--<select ng-model="catInd" ng-options="ind as cats.name for (ind, cats) in categories" ng-change="formCreate.category_id = categories[catInd].id">
				  <option value="">Kategori</option>
				</select>-->
			  </div>
			</div>
			<div class="uk-container uk-container-center" ng-if="product.category_id != null">
				<div class="ui segment">
					<h2 class="ui horizontal divider header">
					  <i class="kg-icon secondary icon-{{categories[product.category_id-1].slug}} icon"></i>
					  {{ categories[product.category_id-1].name }}
					</h2>
					<p>{{ categories[product.category_id-1].desc }}</p>
				</div>
			</div>
		  </div>
		  <div class="ui title active">
			<i class="dropdown icon"></i>
			Logo dan Gambar Produk
		  </div>
		  <div class="content active">
			<form name="imageForm" class="transition visible" action="">
				<div class="uk-grid uk-text-center">
					<div class="ui special cards uk-width-large-1-3 uk-width-medium-1-1 uk-margin-bottom">
					  <div class="card">
						<div class="image">
						  <div ng-if="onProgress1" class="ui active loader"></div>
						  <img ng-if="product.logo == null" ng-src="public/img/placeholder.jpg" />
						  <img ng-if="product.logo != null" ng-src="{{ files }}product/logo/{{product.logo}}" />
						</div>
						<div class="content">
						  <div class="center">
							<a ngf-select="uploadLogo(imageForm.logo.$valid && filelogo, $file)"
								ngf-resize="{width: 512, height: 512, centerCrop: true}"
								ngf-resize-if="$width > 1600 || $height > 1200"
								name="logo" ng-model="filelogo" ngf-pattern="'image/*'"
								ngf-accept="'image/*'" class="ui primary inverted button" ng-disabled="onProgress1"><i class="pencil icon"></i> Ganti</a>
						  </div>
						</div>
						<div class="content">
							<div class="header">
								Logo Produk
							</div>
							<div class="description">
								Pilihlah gambar yang dapat mewakili produk atau brand, gunakan gambar dengan skala 1:1
							</div>
						</div>
					  </div>
					</div>
					<div class="uk-width-large-2-3 uk-width-medium-1-1">
						<div class="ui segments">
							<div class="ui segment">
								<div class="ui fluid image">
									<img ng-if="product.picture!=null" src="{{ files }}product/picture/{{product.picture}}" alt="" class="ui image">
								</div>
							</div>
							<div class="ui segment">
								<a ngf-select="uploadPicture(imageForm.picture.$valid && filepicture, $file)"
											ngf-resize="{width: 1200, height: 800, centerCrop: true}"
											ngf-resize-if="$width > 1600 || $height > 1200"
											name="picture" ng-model="filepicture" ngf-pattern="'image/*'"
											ngf-accept="'image/*'" class="ui primary button" ng-class="{'disabled loading':onProgress2}"><i class="file image icon"></i> Upload Gambar Tampilan</a>
							</div>
							<div class="ui segment">
								Pilih gambar yang bagus untuk katalog produk kreatif anda, ukuran yang optimal adalah 600x400px
							</div>
						</div>
						<!--<div class="uk-slidenav-position" data-uk-slider>
							<div class="uk-slider-container">
								<ul class="uk-slider uk-grid-width-medium-1-2">
									<li id="preview{{ preview.preview_id }}" ng-repeat="preview in product.preview"><img ng-src="{{ files }}/preview/{{ preview.preview_pict }}" alt="{{ preview.preview_caption }}"></li>
								</ul>
							</div>
							<a href="#" class="uk-slidenav uk-slidenav-previous" data-uk-slider-item="previous"></a>
							<a href="#" class="uk-slidenav uk-slidenav-next" data-uk-slider-item="next"></a>
						</div>-->
					  	<!--<div class="ui card" ng-if="addPreview">
						  <div class="image">
							<img ng-src="{{files}}preview/{{ preview.preview_pict }}">
						  </div>
						  <div class="content">
							<div class="meta ui input">
							  <input type="text" ng-model="preview.preview_pict" readonly>
							</div>
							<div class="description ui input">
							  <input type="text" ng-model="preview.preview_caption">
							</div>
						  </div>
						  <div class="extra content">
							<button class="ui labeled icon button" ng-click="savePreview(preview)">
							  <i class="uk-icon-save icon"></i>
							  Simpan
							</button>
						  </div>
						</div>-->
					</div>
				</div>
			</form>
		  </div>
		  <div class="ui title">
			<i class="dropdown icon"></i>
			Deskripsi dan Data Detil
		  </div>
		  <div class="content">
			<div class="transition hidden">
				<div class="ui form uk-container">
				  <div class="field">
					<h3>Kalimat Kutipan</h3>
					<div class="ui fluid left icon input">
						<input type="text" ng-model="product.quote" placeholder="masukkan kalimat yang singkat, padat dan jelas">
						<i class="quote left icon"></i>
					</div>
				  </div>
				  <div class="field">
					<h3>Deskripsi Detil</h3>
					<div text-angular name="desc" ng-model="product.desc" class="ui form segments" ta-text-editor-class="field" ta-html-editor-class="field" ta-focussed-class="focussed"
						height="70" placeholder="Berikan penjelasan secara deskriptif tentang produk anda, kelebihan produk, fungsi, manfaat, dll."
					></div>
					<!--<textarea ng-model="product.desc" rows="3" placeholder="Penjelasan mengenai produk"></textarea>-->
				  </div>
				  <div class="field">
					<h3>Data Tambahan</h3>
					<div text-angular name="data" ng-model="product.data" class="ui form segments" ta-text-editor-class="field" ta-html-editor-class="field" ta-focussed-class="focussed"
						height="70" placeholder="Berikan beberapa detil mengenai produk anda, seperti tipe produk lebih spesifik, kelengkapan produk maupun properti lain seperti berat, harga, ukuran, dll."
					></div>
					<!--<textarea ng-model="product.data" rows="3" placeholder="data mengenai spesifikasi produk"></textarea>-->
				  </div>
				</div>
			</div>
		  </div>
		  <div class="ui title">
			<i class="dropdown icon"></i>
			Kriteria Penilaian dan Kata Kunci
		  </div>
		  <div class="content">
			<div id="criteriaList" class="field transition hidden">
				<h3>Kriteria Penilaian</h3>
				<tags-input ng-model="product.criteria"
					template="template.tags.html"
					display-property="name"
					key-property="name"
					placeholder="Tambahkan Kriteria Penilaian"
					add-on-space="true"
					on-tag-adding="addCriteria($tag)"
					on-tag-removing="removeCriteria($tag)">
					<auto-complete source="loadCriterias($query)" display-property="name" min-length="1"></auto-complete>
				</tags-input>
				<div class="ui pointing label">Berikan kriteria yang digunakan untuk pemberian rating produk anda, misalnya: tampilan, harga, rasa, fungsi, dll</div>
			</div>
			<div class="field transition hidden uk-margin-top">
				<h3>Kata Kunci</h3>
				<tags-input ng-model="product.tag"
					template="template.tags.html"
					display-property="name"
					key-property="name"
					placeholder="Tambahkan Tag"
					add-on-space="true"
					on-tag-adding="addTag($tag)"
					on-tag-removing="removeTag($tag)">
					<auto-complete source="loadTags($query)" display-property="name" min-length="1"></auto-complete>
				</tags-input>
				<div class="ui pointing label">Berikan kata kunci atau label yang digunakan untuk pencarian sehingga produk anda mudah ditemukan</div>
			</div>
		  </div>
		  <div class="ui title">
			<i class="dropdown icon"></i>
			Penyisipan Konten Luar
		  </div>
		  <div class="content">
			<div class="ui form transition hidden">
			  <div class="field">
				<div class="ui fluid labeled input">
				  <div class="ui label">
					http://
				  </div>
				  <input type="text" ng-model="product.embed" placeholder="hostname.com/tautan-ke-rich-konten-kamu">
				  <div class="ui button" ng-click="embedPreview(product.embed)">Preview</div>
				</div>
			  	<div class="ui pointing label">
				  Masukkan link halaman website produk anda, bisa halaman media sosial lain, atau halaman pada web e-commerce
				</div>
			  </div>
			  <div class="field">
				<div class="embed-preview">
					<a href="{{ product.embed }}" apikey="8081dea79e164014bcd7cd7e1ab2363a" class="embedly-card preview-card">Embedly</a>
				</div>
			  </div>
				<!-- <kg-embedly maxwidth="100%" url="{{ product.embed }}"  style="width:90%"></kg-embedly> -->
			</div>
		  </div>
		</div>
		<div class="ui form uk-width-1-1 uk-text-right uk-margin">
			<div class="field">
				<div class="ui toggle checkbox">
					<input id="is_release" type="checkbox" name="is_release" ng-model="product.is_release" ng-true-value="1" ng-false-value="0" kg-ui-checkbox>
					<label for="is_release">Publikasikan Produk</label>
				</div>
			</div>
			<div class="field">
				<button class="ui labeled primary icon button" ng-class="{'disabled loading':isSaving}" ng-click="updateProduct(product, false)">
				   <i class="save icon"></i>
				  Simpan
				</button>
			   <button class="ui labeled secondary icon button" ng-class="{'disabled loading':isSaving}" ng-click="updateProduct(product, true)">
				  <i class="file image outline icon"></i>
				  Simpan dan Lihat
				</button>
			</div>
		</div>
	</div>
</div>
